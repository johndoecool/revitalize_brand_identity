<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brand Intelligence Hub - VibeCoding Hackathon</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script>
        // Ensure Chart.js is loaded with fallback
        window.chartJSReady = false;
        window.addEventListener('load', function() {
            if (typeof Chart !== 'undefined') {
                window.chartJSReady = true;
                console.log('Chart.js loaded successfully');
            } else {
                console.error('Chart.js failed to load from CDN');
                // Try alternative CDN
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js';
                script.onload = () => {
                    window.chartJSReady = true;
                    console.log('Chart.js loaded from fallback CDN');
                };
                document.head.appendChild(script);
            }
        });
    </script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-gradient: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            --success-gradient: linear-gradient(45deg, #00c9ff, #92fe9d);
            --warning-gradient: linear-gradient(45deg, #fc466b, #3f5efb);
            --dark-bg: #0a0e1a;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --border-color: rgba(255, 255, 255, 0.1);
            --glow-blue: #00d4ff;
            --glow-purple: #8b5cf6;
            --glass-bg: rgba(255, 255, 255, 0.08);
            
            /* Industry Color Schemes */
            --banking-primary: #1e40af;
            --banking-secondary: #3b82f6;
            --banking-accent: #60a5fa;
            
            --tech-primary: #7c3aed;
            --tech-secondary: #8b5cf6;
            --tech-accent: #a78bfa;
            
            --healthcare-primary: #059669;
            --healthcare-secondary: #10b981;
            --healthcare-accent: #34d399;
            
            /* Enhanced Glassmorphism */
            --glass-bg-strong: rgba(255, 255, 255, 0.12);
            --glass-border: rgba(255, 255, 255, 0.18);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            animation: float 6s ease-in-out infinite;
        }

        .orb-1 {
            width: 400px;
            height: 400px;
            background: var(--glow-blue);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .orb-2 {
            width: 300px;
            height: 300px;
            background: var(--glow-purple);
            top: 50%;
            right: 10%;
            animation-delay: 2s;
        }

        .orb-3 {
            width: 200px;
            height: 200px;
            background: #ff6b6b;
            bottom: 20%;
            left: 50%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-30px) scale(1.1); }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Header Section */
        .header {
            text-align: center;
            margin-bottom: 40px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-gradient);
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: -2px;
        }

        .header .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 300;
            margin-bottom: 20px;
        }

        .hackathon-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--primary-gradient);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            background: var(--glass-bg);
            padding: 8px;
            border-radius: 16px;
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
        }

        .nav-tab {
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .nav-tab.active, .nav-tab:hover {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-2px);
        }

        /* Setup Section */
        .setup-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            position: relative;
        }

        .setup-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-group {
            position: relative;
        }

        .input-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .input-field {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-family: inherit;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--glow-blue);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            transform: translateY(-2px);
        }

        .input-field::placeholder {
            color: var(--text-secondary);
        }

        /* AI Brand Suggestions */
        .brand-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin-top: 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }

        .suggestion-item {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .suggestion-item:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .suggestion-logo {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Area Selection */
        .area-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .area-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .area-card:hover {
            border-color: var(--glow-blue);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }

        .area-card.selected {
            border-color: var(--glow-blue);
            background: rgba(0, 212, 255, 0.1);
        }

        .area-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .area-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .area-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Progress Loader */
        .progress-container {
            display: none;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            margin: 30px 0;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            position: relative;
        }

        .progress-circle {
            width: 100%;
            height: 100%;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--glow-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-status {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .progress-detail {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .data-sources {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .source-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .source-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--glow-blue);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Analyze Button */
        .analyze-section {
            text-align: center;
            margin-top: 40px;
        }

        .analyze-btn {
            background: var(--accent-gradient);
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            position: relative;
            overflow: hidden;
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
        }

        .analyze-btn:active {
            transform: translateY(0);
        }

        /* Dashboard Grid */
        .dashboard {
            display: none;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto auto;
            gap: 25px;
            margin-top: 40px;
        }

        .dashboard.active {
            display: grid;
        }

        .dash-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dash-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--glow-blue);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card-icon {
            width: 32px;
            height: 32px;
            background: var(--accent-gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .confidence-badge {
            background: var(--success-gradient);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Brand Score Card */
        .score-display {
            text-align: center;
            margin: 30px 0;
        }

        .score-circle {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, var(--glow-blue) 0deg, var(--glow-purple) var(--score), rgba(255,255,255,0.1) var(--score));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            position: relative;
            animation: rotate 3s ease-in-out;
        }

        .score-circle::before {
            content: '';
            width: 110px;
            height: 110px;
            background: var(--dark-bg);
            border-radius: 50%;
            position: absolute;
        }

        .score-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--text-primary);
            z-index: 1;
            font-family: 'JetBrains Mono', monospace;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .score-label {
            color: var(--text-secondary);
            font-size: 1rem;
            margin-bottom: 20px;
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .metric-item {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .metric-item:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: scale(1.05);
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--glow-blue);
            margin-bottom: 8px;
            font-family: 'JetBrains Mono', monospace;
        }

        .metric-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Comparison Section */
        .comparison-section {
            grid-column: 1 / -1;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid var(--border-color);
        }

        .vs-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .vs-brands {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .brand-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .brand-logo {
            width: 60px;
            height: 60px;
            background: var(--accent-gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .vs-divider {
            background: var(--warning-gradient);
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 800;
            box-shadow: 0 8px 25px rgba(252, 70, 107, 0.4);
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 350px;
            margin: 30px 0;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 20px;
        }

        /* Recommendations */
        .recommendations {
            grid-column: 1 / -1;
            background: var(--primary-gradient);
            color: white;
            border-radius: 20px;
            padding: 40px;
            position: relative;
            overflow: hidden;
        }

        .recommendations::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="white" opacity="0.1"/><circle cx="80" cy="80" r="1" fill="white" opacity="0.1"/><circle cx="40" cy="70" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.1;
        }

        .recommendations-header {
            position: relative;
            z-index: 1;
        }

        .rec-title {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .rec-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            position: relative;
            z-index: 1;
        }

        .rec-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .rec-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }

        .rec-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 15px;
        }

        .rec-item-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: #ffd700;
            margin-bottom: 12px;
        }

        .priority-badge {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .rec-desc {
            font-size: 0.95rem;
            line-height: 1.6;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .rec-metrics {
            display: flex;
            gap: 15px;
            font-size: 0.8rem;
        }

        .rec-metric {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Floating Action Button */
        .floating-actions {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
        }

        .fab {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.4rem;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fab-primary {
            background: var(--accent-gradient);
        }

        .fab-secondary {
            background: var(--primary-gradient);
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .setup-grid {
                grid-template-columns: 1fr;
            }
            
            .area-grid {
                grid-template-columns: 1fr;
            }
            
            .vs-brands {
                font-size: 1.4rem;
                gap: 20px;
            }
            
            .rec-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading States */
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Demo Selector */
        .demo-selector {
            background: var(--glass-bg-strong);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            text-align: center;
        }

        .demo-dropdown {
            width: 100%;
            max-width: 600px;
            padding: 16px 20px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-dropdown:focus {
            outline: none;
            border-color: var(--glow-blue);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }

        .demo-dropdown option {
            background: var(--dark-bg);
            color: var(--text-primary);
            padding: 10px;
        }

        /* Enhanced Tab Navigation */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 40px;
            background: var(--glass-bg-strong);
            padding: 8px;
            border-radius: 16px;
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }

        .nav-tab {
            padding: 12px 20px;
            border-radius: 12px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            position: relative;
            overflow: hidden;
            min-width: 120px;
        }

        .nav-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .nav-tab:hover::before {
            left: 100%;
        }

        .nav-tab.active, .nav-tab:hover {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        /* Tab Content Sections */
        .tab-content {
            display: none;
            animation: fadeInUp 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Enhanced Interactive Elements */
        .interactive-chart {
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .interactive-chart:hover {
            transform: scale(1.02);
        }

        .drill-down-panel {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--glass-bg-strong);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 20px;
            margin-top: 10px;
            display: none;
            z-index: 1000;
            box-shadow: var(--glass-shadow);
        }

        .drill-down-panel.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ROI Display */
        .roi-display {
            background: var(--success-gradient);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            display: inline-block;
            margin: 5px 0;
            box-shadow: 0 4px 15px rgba(0, 201, 255, 0.3);
        }

        .metric-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .metric-card:hover {
            background: var(--glass-bg-strong);
            transform: translateY(-2px);
            box-shadow: var(--glass-shadow);
        }

        .metric-card.clickable::after {
            content: '👆';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.8rem;
            opacity: 0.6;
        }

        /* Mobile Enhancements */
        @media (max-width: 768px) {
            .nav-tabs {
                flex-wrap: wrap;
                gap: 4px;
            }
            
            .nav-tab {
                min-width: 100px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }
            
            .metric-card {
                margin: 8px 0;
                padding: 12px;
            }
            
            .demo-dropdown {
                font-size: 0.9rem;
                padding: 12px 16px;
            }
            
            /* Touch-friendly sizing */
            .interactive-chart,
            .metric-card,
            .area-card {
                min-height: 44px;
                touch-action: manipulation;
            }
        }

        /* Loading States */
        .loading-shimmer {
            background: linear-gradient(90deg, 
                rgba(255,255,255,0.1) 25%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Insights Section Styles */
        .insights-section {
            padding: 20px 0;
        }

        .section-title {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-align: center;
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 40px;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .insight-card {
            background: var(--glass-bg-strong);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .insight-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .priority-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .priority-badge.high {
            background: var(--warning-gradient);
            color: white;
        }

        .priority-badge.medium {
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
            color: white;
        }

        .priority-badge.strategic {
            background: var(--success-gradient);
            color: white;
        }

        .insight-expand-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .insight-expand-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        /* Timeline Styles */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--accent-gradient);
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin: 30px 0;
            position: relative;
        }

        .timeline-marker {
            width: 60px;
            height: 60px;
            background: var(--accent-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: white;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .timeline-content {
            flex: 1;
            margin-left: 30px;
            background: var(--glass-bg-strong);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--glass-border);
        }

        .timeline-progress {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--accent-gradient);
            border-radius: 4px;
            transition: width 1s ease;
        }

        /* Export Section Styles */
        .export-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .export-card {
            background: var(--glass-bg-strong);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transition: all 0.3s ease;
        }

        .export-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .export-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .export-btn {
            background: var(--accent-gradient);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-gradient);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-gradient);
        }
    </style>
</head>
<body>
    <div class="bg-animation">
        <div class="floating-orb orb-1"></div>
        <div class="floating-orb orb-2"></div>
        <div class="floating-orb orb-3"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Brand Intelligence Hub</h1>
            <p class="subtitle">AI-Powered Brand Reputation Analysis & Competitive Intelligence</p>
            <div class="hackathon-badge">
                <span>🚀</span>
                VibeCoding Hackathon 2025
            </div>
        </div>

        <!-- Demo Selector -->
        <div class="demo-selector" data-aos="fade-down" data-aos-delay="200">
            <label class="input-label" for="demoSelector">🎯 Select Demo Industry</label>
            <select class="demo-dropdown" id="demoSelector">
                <option value="banking">🏦 Banking - Oriental Bank vs Banco Popular (Self Service Portal)</option>
                <option value="tech">💻 Technology - Microsoft vs Google (Employer Branding)</option>
                <option value="healthcare">🏥 Healthcare - Pfizer vs Moderna (Product Innovation)</option>
            </select>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="setup">🎯 Setup</button>
            <button class="nav-tab" data-tab="analysis">📊 Analysis</button>
            <button class="nav-tab" data-tab="insights">💡 Insights</button>
            <button class="nav-tab" data-tab="roadmap">🗺️ Roadmap</button>
            <button class="nav-tab" data-tab="export">📄 Report</button>
        </div>

        <!-- Tab Content Wrapper -->
        <div class="tab-content-wrapper">
            
        <!-- Setup Tab Content -->
        <div class="tab-content active" id="setupTab">
        <div class="setup-section" id="setupSection" data-aos="fade-up">
            <div class="setup-grid">
                <div class="input-group">
                    <label class="input-label" for="brandInput">Brand Name</label>
                    <input type="text" class="input-field" id="brandInput" placeholder="Enter brand name (e.g., Oriental Bank, Cognizant)...">
                    <div class="brand-suggestions" id="brandSuggestions">
                        <div class="suggestion-item">
                            <div class="suggestion-logo">OB</div>
                            <div>
                                <div style="font-weight: 600;">Oriental Bank</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Banking • Puerto Rico</div>
                            </div>
                        </div>
                        <div class="suggestion-item">
                            <div class="suggestion-logo">C</div>
                            <div>
                                <div style="font-weight: 600;">Cognizant</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">IT Services • Global</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label class="input-label" for="competitorInput">Competitor</label>
                    <input type="text" class="input-field" id="competitorInput" placeholder="Select or enter competitor...">
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Select Analysis Area (Maximum 1)</label>
                <div class="area-grid">
                    <div class="area-card" data-area="self-service">
                        <span class="area-icon">🏦</span>
                        <div class="area-title">Self Service Portal</div>
                        <div class="area-desc">Digital banking capabilities, user experience, mobile app features</div>
                    </div>
                    <div class="area-card" data-area="employer-choice">
                        <span class="area-icon">👥</span>
                        <div class="area-title">Employer of Choice</div>
                        <div class="area-desc">Work culture, compensation, career growth, work-life balance</div>
                    </div>
                    <div class="area-card" data-area="customer-experience">
                        <span class="area-icon">⭐</span>
                        <div class="area-title">Customer Experience</div>
                        <div class="area-desc">Service quality, support responsiveness, customer satisfaction</div>
                    </div>
                    <div class="area-card" data-area="innovation">
                        <span class="area-icon">💡</span>
                        <div class="area-title">Innovation Leadership</div>
                        <div class="area-desc">R&D investment, product innovation, technology adoption</div>
                    </div>
                    <div class="area-card" data-area="sustainability">
                        <span class="area-icon">🌱</span>
                        <div class="area-title">Sustainability</div>
                        <div class="area-desc">Environmental impact, CSR initiatives, ESG compliance</div>
                    </div>
                    <div class="area-card" data-area="market-position">
                        <span class="area-icon">📈</span>
                        <div class="area-title">Market Position</div>
                        <div class="area-desc">Market share, brand recognition, competitive advantage</div>
                    </div>
                </div>
            </div>
            
            <div class="analyze-section">
                <button class="analyze-btn" onclick="startAnalysis()">
                    <span>🚀 Launch Analysis</span>
                </button>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="progress-container" id="progressContainer">
            <div class="progress-ring">
                <div class="progress-circle"></div>
            </div>
            <div class="progress-status" id="progressStatus">Initializing AI Analysis...</div>
            <div class="progress-detail" id="progressDetail">Setting up data collection pipelines</div>
            
            <div class="data-sources">
                <div class="source-item">
                    <div class="source-status"></div>
                    <span>News APIs</span>
                </div>
                <div class="source-item">
                    <div class="source-status"></div>
                    <span>Social Media</span>
                </div>
                <div class="source-item">
                    <div class="source-status"></div>
                    <span>Glassdoor</span>
                </div>
                <div class="source-item">
                    <div class="source-status"></div>
                    <span>Web Scraping</span>
                </div>
                <div class="source-item">
                    <div class="source-status"></div>
                    <span>Financial Data</span>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <!-- Overall Brand Score -->
            <div class="dash-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">📊</div>
                        Brand Intelligence Score
                    </div>
                    <div class="confidence-badge">94% Confidence</div>
                </div>
                <div class="score-display">
                    <div class="score-circle" style="--score: 259deg;">
                        <div class="score-value">7.8</div>
                    </div>
                    <div class="score-label">Overall Reputation Score</div>
                </div>
                <div class="metrics-grid">
                    <div class="metric-item">
                        <div class="metric-value">+1.2</div>
                        <div class="metric-label">vs Last Quarter</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">78%</div>
                        <div class="metric-label">Market Position</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">2.3K</div>
                        <div class="metric-label">Mentions/Day</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">89%</div>
                        <div class="metric-label">Sentiment Positive</div>
                    </div>
                </div>
            </div>

            <!-- Area Performance -->
            <div class="dash-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">🎯</div>
                        <span id="selectedAreaTitle">Self Service Portal</span> Analysis
                    </div>
                    <div class="confidence-badge">91% Confidence</div>
                </div>
                <div class="chart-container">
                    <canvas id="areaChart"></canvas>
                </div>
                <div class="metrics-grid">
                    <div class="metric-item">
                        <div class="metric-value">8.2</div>
                        <div class="metric-label">User Experience</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">7.5</div>
                        <div class="metric-label">Feature Richness</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">6.8</div>
                        <div class="metric-label">Mobile App</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">9.1</div>
                        <div class="metric-label">Security</div>
                    </div>
                </div>
            </div>

            <!-- Data Sources Breakdown -->
            <div class="dash-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">📡</div>
                        Data Sources Intelligence
                    </div>
                    <div class="confidence-badge">Live Data</div>
                </div>
                <div class="chart-container">
                    <canvas id="sourcesChart"></canvas>
                </div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px;">
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--glow-blue);">15.2K</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">News Articles</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--glow-purple);">89.5K</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Social Posts</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: #ff6b6b;">2.8K</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Reviews</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: #4ecdc4;">156</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Expert Reports</div>
                    </div>
                </div>
            </div>

            <!-- Sentiment Analysis -->
            <div class="dash-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">😊</div>
                        Sentiment Analysis
                    </div>
                    <div class="confidence-badge">96% Accuracy</div>
                </div>
                <div class="chart-container">
                    <canvas id="sentimentChart"></canvas>
                </div>
                <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                    <div style="text-align: center;">
                        <div style="font-size: 2rem;">😊</div>
                        <div style="font-size: 1.2rem; font-weight: 700; color: #4ecdc4;">72%</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Positive</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem;">😐</div>
                        <div style="font-size: 1.2rem; font-weight: 700; color: #ffd700;">19%</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Neutral</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem;">😞</div>
                        <div style="font-size: 1.2rem; font-weight: 700; color: #ff6b6b;">9%</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Negative</div>
                    </div>
                </div>
            </div>

            <!-- Competitive Comparison -->
            <div class="comparison-section">
                <div class="vs-header">
                    <div class="vs-brands">
                        <div class="brand-info">
                            <div class="brand-logo" id="yourBrandLogo">OB</div>
                            <span id="yourBrandName">Oriental Bank</span>
                        </div>
                        <div class="vs-divider">VS</div>
                        <div class="brand-info">
                            <div class="brand-logo" id="competitorLogo">BP</div>
                            <span id="competitorName">Banco Popular</span>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
                
                <!-- Key Differentiators -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                    <div>
                        <h4 style="margin-bottom: 15px; color: var(--glow-blue);">🏆 Your Strengths</h4>
                        <div style="margin-top: 8px;">
                            <div style="padding: 8px 12px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                <strong>Security Excellence:</strong> 9.1/10 vs 7.8/10
                            </div>
                            <div style="padding: 8px 12px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                <strong>Customer Support:</strong> 8.7/10 vs 7.2/10
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 15px; color: #ff6b6b;">⚠️ Improvement Areas</h4>
                        <div>
                            <div style="padding: 8px 12px; background: rgba(255, 107, 107, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                <strong>Mobile App Features:</strong> 6.8/10 vs 8.9/10
                            </div>
                            <div style="padding: 8px 12px; background: rgba(255, 107, 107, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                <strong>Digital Innovation:</strong> 7.1/10 vs 8.6/10
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Strategic Recommendations -->
            <div class="recommendations">
                <div class="recommendations-header">
                    <div class="rec-title">
                        <div class="card-icon">🎯</div>
                        Strategic Action Plan
                    </div>
                </div>
                <div class="rec-grid">
                    <div class="rec-item">
                        <div class="rec-header">
                            <div class="priority-badge">High Priority</div>
                        </div>
                        <div class="rec-item-title">🚀 Mobile App Enhancement</div>
                        <div class="rec-desc">
                            Implement biometric login, AI-powered financial insights, and personalized dashboard. 
                            Add cryptocurrency trading and investment tracking features to match competitor offerings.
                        </div>
                        <div class="rec-metrics">
                            <div class="rec-metric">
                                <span>⏱️</span>
                                <span>3-6 months</span>
                            </div>
                            <div class="rec-metric">
                                <span>💰</span>
                                <span>High ROI</span>
                            </div>
                            <div class="rec-metric">
                                <span>📊</span>
                                <span>+2.1 score improvement</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rec-item">
                        <div class="rec-header">
                            <div class="priority-badge">Medium Priority</div>
                        </div>
                        <div class="rec-item-title">🤖 AI-Powered Customer Service</div>
                        <div class="rec-desc">
                            Deploy advanced chatbots with natural language processing for 24/7 support. 
                            Integrate with existing systems for seamless query resolution and proactive assistance.
                        </div>
                        <div class="rec-metrics">
                            <div class="rec-metric">
                                <span>⏱️</span>
                                <span>2-4 months</span>
                            </div>
                            <div class="rec-metric">
                                <span>💰</span>
                                <span>Medium ROI</span>
                            </div>
                            <div class="rec-metric">
                                <span>📊</span>
                                <span>+1.5 score improvement</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rec-item">
                        <div class="rec-header">
                            <div class="priority-badge">Strategic</div>
                        </div>
                        <div class="rec-item-title">🏆 Maintain Security Leadership</div>
                        <div class="rec-desc">
                            Continue investing in cybersecurity infrastructure and obtain additional security certifications. 
                            Launch customer education campaigns highlighting your security advantages.
                        </div>
                        <div class="rec-metrics">
                            <div class="rec-metric">
                                <span>⏱️</span>
                                <span>Ongoing</span>
                            </div>
                            <div class="rec-metric">
                                <span>💰</span>
                                <span>Brand Value</span>
                            </div>
                            <div class="rec-metric">
                                <span>📊</span>
                                <span>Maintain advantage</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        
        <!-- Analysis Tab Content -->
        <div class="tab-content" id="analysisTab">
            <!-- Analysis Dashboard -->
            <div class="dashboard" id="analysisDashboard" style="display: none;">
                <!-- Overall Brand Score -->
                <div class="dash-card interactive-chart" data-metric="overall-score" data-aos="zoom-in" data-aos-delay="100">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">📊</div>
                            Brand Intelligence Score
                        </div>
                        <div class="confidence-badge">94% Confidence</div>
                    </div>
                    <div class="score-display">
                        <div class="score-circle" style="--score: 259deg;">
                            <div class="score-value">7.8</div>
                        </div>
                        <div class="score-label">Overall Reputation Score</div>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-item metric-card clickable" data-drill="quarterly">
                            <div class="metric-value">+1.2</div>
                            <div class="metric-label">vs Last Quarter</div>
                        </div>
                        <div class="metric-item metric-card clickable" data-drill="market">
                            <div class="metric-value">78%</div>
                            <div class="metric-label">Market Position</div>
                        </div>
                        <div class="metric-item metric-card clickable" data-drill="mentions">
                            <div class="metric-value">2.3K</div>
                            <div class="metric-label">Mentions/Day</div>
                        </div>
                        <div class="metric-item metric-card clickable" data-drill="sentiment">
                            <div class="metric-value">89%</div>
                            <div class="metric-label">Sentiment Positive</div>
                        </div>
                    </div>
                    <div class="drill-down-panel" id="scoreDetailsAnalysis">
                        <h4>Detailed Breakdown</h4>
                        <div id="scoreDetailsContentAnalysis"></div>
                    </div>
                </div>

                <!-- Area Performance -->
                <div class="dash-card interactive-chart" data-aos="zoom-in" data-aos-delay="200">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">🎯</div>
                            <span id="selectedAreaTitleAnalysis">Self Service Portal</span> Analysis
                        </div>
                        <div class="confidence-badge">91% Confidence</div>
                    </div>
                    <div class="chart-container interactive-chart" data-chart="area">
                        <canvas id="areaChartAnalysis"></canvas>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value">8.2</div>
                            <div class="metric-label">User Experience</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">7.5</div>
                            <div class="metric-label">Feature Richness</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">6.8</div>
                            <div class="metric-label">Mobile App</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">9.1</div>
                            <div class="metric-label">Security</div>
                        </div>
                    </div>
                </div>

                <!-- Data Sources Breakdown -->
                <div class="dash-card" data-aos="zoom-in" data-aos-delay="300">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">📡</div>
                            Data Sources Intelligence
                        </div>
                        <div class="confidence-badge">Live Data</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="sourcesChartAnalysis"></canvas>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px;">
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--glow-blue);">15.2K</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">News Articles</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--glow-purple);">89.5K</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Social Posts</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: #ff6b6b;">2.8K</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Reviews</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: #4ecdc4;">156</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Expert Reports</div>
                        </div>
                    </div>
                </div>

                <!-- Sentiment Analysis -->
                <div class="dash-card" data-aos="zoom-in" data-aos-delay="400">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">😊</div>
                            Sentiment Analysis
                        </div>
                        <div class="confidence-badge">96% Accuracy</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="sentimentChartAnalysis"></canvas>
                    </div>
                    <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                        <div style="text-align: center;">
                            <div style="font-size: 2rem;">😊</div>
                            <div style="font-size: 1.2rem; font-weight: 700; color: #4ecdc4;">72%</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Positive</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem;">😐</div>
                            <div style="font-size: 1.2rem; font-weight: 700; color: #ffd700;">19%</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Neutral</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem;">😞</div>
                            <div style="font-size: 1.2rem; font-weight: 700; color: #ff6b6b;">9%</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Negative</div>
                        </div>
                    </div>
                </div>

                <!-- Competitive Comparison -->
                <div class="comparison-section" data-aos="fade-up" data-aos-delay="500">
                    <div class="vs-header">
                        <div class="vs-brands">
                            <div class="brand-info">
                                <div class="brand-logo" id="yourBrandLogoAnalysis">OB</div>
                                <span id="yourBrandNameAnalysis">Oriental Bank</span>
                            </div>
                            <div class="vs-divider">VS</div>
                            <div class="brand-info">
                                <div class="brand-logo" id="competitorLogoAnalysis">BP</div>
                                <span id="competitorNameAnalysis">Banco Popular</span>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="comparisonChartAnalysis"></canvas>
                    </div>
                    
                    <!-- Key Differentiators -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                        <div>
                            <h4 style="margin-bottom: 15px; color: var(--glow-blue);">🏆 Your Strengths</h4>
                            <div style="margin-top: 8px;">
                                <div style="padding: 8px 12px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                    <strong>Security Excellence:</strong> 9.1/10 vs 7.8/10
                                </div>
                                <div style="padding: 8px 12px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                    <strong>Customer Support:</strong> 8.7/10 vs 7.2/10
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 15px; color: #ff6b6b;">⚠️ Improvement Areas</h4>
                            <div>
                                <div style="padding: 8px 12px; background: rgba(255, 107, 107, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                    <strong>Mobile App Features:</strong> 6.8/10 vs 8.9/10
                                </div>
                                <div style="padding: 8px 12px; background: rgba(255, 107, 107, 0.1); border-radius: 8px; margin-bottom: 8px;">
                                    <strong>Digital Innovation:</strong> 7.1/10 vs 8.6/10
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Insights Tab Content -->
        <div class="tab-content" id="insightsTab">
            <div class="insights-section" data-aos="fade-up">
                <div class="insights-header">
                    <h2 class="section-title">💡 Strategic Insights & Recommendations</h2>
                    <p class="section-subtitle">AI-powered actionable insights to improve your brand reputation</p>
                </div>
                
                <div class="insights-grid">
                    <div class="insight-card priority-high" data-aos="flip-left" data-aos-delay="100">
                        <div class="insight-header">
                            <div class="priority-badge high">High Priority</div>
                            <div class="roi-display" id="insight1ROI">ROI: $2.5M/year</div>
                        </div>
                        <h3 class="insight-title">🚀 Mobile App Enhancement</h3>
                        <div class="insight-description">
                            Implement biometric login, AI-powered financial insights, and personalized dashboard to match competitor offerings.
                        </div>
                        <div class="insight-metrics">
                            <div class="metric">
                                <span class="metric-icon">⏱️</span>
                                <span>3-6 months</span>
                            </div>
                            <div class="metric">
                                <span class="metric-icon">📈</span>
                                <span>+2.1 score improvement</span>
                            </div>
                        </div>
                        <button class="insight-expand-btn" data-insight="mobile">View Details</button>
                    </div>
                    
                    <div class="insight-card priority-medium" data-aos="flip-left" data-aos-delay="200">
                        <div class="insight-header">
                            <div class="priority-badge medium">Medium Priority</div>
                            <div class="roi-display" id="insight2ROI">ROI: $1.2M/year</div>
                        </div>
                        <h3 class="insight-title">🤖 AI-Powered Customer Service</h3>
                        <div class="insight-description">
                            Deploy advanced chatbots with natural language processing for 24/7 support and proactive assistance.
                        </div>
                        <div class="insight-metrics">
                            <div class="metric">
                                <span class="metric-icon">⏱️</span>
                                <span>2-4 months</span>
                            </div>
                            <div class="metric">
                                <span class="metric-icon">📈</span>
                                <span>+1.5 score improvement</span>
                            </div>
                        </div>
                        <button class="insight-expand-btn" data-insight="ai-service">View Details</button>
                    </div>
                    
                    <div class="insight-card priority-strategic" data-aos="flip-left" data-aos-delay="300">
                        <div class="insight-header">
                            <div class="priority-badge strategic">Strategic</div>
                            <div class="roi-display" id="insight3ROI">Brand Value</div>
                        </div>
                        <h3 class="insight-title">🏆 Maintain Security Leadership</h3>
                        <div class="insight-description">
                            Continue investing in cybersecurity infrastructure and launch customer education campaigns.
                        </div>
                        <div class="insight-metrics">
                            <div class="metric">
                                <span class="metric-icon">⏱️</span>
                                <span>Ongoing</span>
                            </div>
                            <div class="metric">
                                <span class="metric-icon">📈</span>
                                <span>Maintain advantage</span>
                            </div>
                        </div>
                        <button class="insight-expand-btn" data-insight="security">View Details</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Roadmap Tab Content -->
        <div class="tab-content" id="roadmapTab">
            <div class="roadmap-section" data-aos="fade-up">
                <div class="roadmap-header">
                    <h2 class="section-title">🗺️ Implementation Roadmap</h2>
                    <p class="section-subtitle">Strategic timeline for brand reputation improvement</p>
                </div>
                
                <div class="timeline">
                    <div class="timeline-item" data-aos="slide-right" data-aos-delay="100">
                        <div class="timeline-marker">Q1</div>
                        <div class="timeline-content">
                            <h4>Foundation Phase - Mobile App Development</h4>
                            <ul>
                                <li>User research and requirements gathering</li>
                                <li>UI/UX design for mobile banking features</li>
                                <li>Begin biometric authentication development</li>
                            </ul>
                            <div class="timeline-progress">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item" data-aos="slide-right" data-aos-delay="200">
                        <div class="timeline-marker">Q2</div>
                        <div class="timeline-content">
                            <h4>Development Phase - AI Integration</h4>
                            <ul>
                                <li>Launch enhanced mobile app beta</li>
                                <li>Deploy AI chatbot for customer service</li>
                                <li>Implement real-time notifications</li>
                            </ul>
                            <div class="timeline-progress">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item" data-aos="slide-right" data-aos-delay="300">
                        <div class="timeline-marker">Q3</div>
                        <div class="timeline-content">
                            <h4>Launch Phase - Security Enhancement</h4>
                            <ul>
                                <li>Full mobile app launch</li>
                                <li>Enhanced security certification</li>
                                <li>Customer education campaign</li>
                            </ul>
                            <div class="timeline-progress">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item" data-aos="slide-right" data-aos-delay="400">
                        <div class="timeline-marker">Q4</div>
                        <div class="timeline-content">
                            <h4>Optimization Phase - Performance Monitoring</h4>
                            <ul>
                                <li>Monitor KPIs and user feedback</li>
                                <li>Optimize features based on usage data</li>
                                <li>Plan next phase improvements</li>
                            </ul>
                            <div class="timeline-progress">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Export Tab Content -->
        <div class="tab-content" id="exportTab">
            <div class="export-section" data-aos="fade-up">
                <div class="export-header">
                    <h2 class="section-title">📄 Export & Share Report</h2>
                    <p class="section-subtitle">Download and share your brand analysis insights</p>
                </div>
                
                <div class="export-options">
                    <div class="export-card" data-aos="zoom-in" data-aos-delay="100">
                        <div class="export-icon">📊</div>
                        <h3>Executive Summary</h3>
                        <p>High-level overview with key metrics and recommendations</p>
                        <button class="export-btn" data-format="executive">Download PDF</button>
                    </div>
                    
                    <div class="export-card" data-aos="zoom-in" data-aos-delay="200">
                        <div class="export-icon">📈</div>
                        <h3>Detailed Report</h3>
                        <p>Complete analysis with charts, data sources, and methodology</p>
                        <button class="export-btn" data-format="detailed">Download PDF</button>
                    </div>
                    
                    <div class="export-card" data-aos="zoom-in" data-aos-delay="300">
                        <div class="export-icon">📝</div>
                        <h3>Data Export</h3>
                        <p>Raw data and insights in JSON/CSV format for further analysis</p>
                        <button class="export-btn" data-format="data">Download JSON</button>
                    </div>
                    
                    <div class="export-card" data-aos="zoom-in" data-aos-delay="400">
                        <div class="export-icon">🔗</div>
                        <h3>Share Link</h3>
                        <p>Generate shareable link for stakeholders and team members</p>
                        <button class="export-btn" data-format="link">Generate Link</button>
                    </div>
                </div>
            </div>
        </div>
        
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="floating-actions">
        <button class="fab fab-secondary" onclick="exportReport()" title="Export Report">
            📊
        </button>
        <button class="fab fab-primary" onclick="refreshAnalysis()" title="Refresh Analysis">
            🔄
        </button>
    </div>

    <script>
        // Global variables
        let selectedArea = null;
        let analysisData = {};
        let currentBrand = '';
        let currentCompetitor = '';
        let currentDemo = 'banking';
        let demoData = {};
        
        // Demo data structure
        const demos = {
            banking: {
                brand: 'Oriental Bank',
                competitor: 'Banco Popular',
                area: 'Self Service Portal',
                areaId: 'self-service',
                industry: 'Banking',
                colors: {
                    primary: '#1e40af',
                    secondary: '#3b82f6',
                    accent: '#60a5fa'
                }
            },
            tech: {
                brand: 'Microsoft',
                competitor: 'Google',
                area: 'Employer Branding',
                areaId: 'employer-choice',
                industry: 'Technology',
                colors: {
                    primary: '#7c3aed',
                    secondary: '#8b5cf6',
                    accent: '#a78bfa'
                }
            },
            healthcare: {
                brand: 'Pfizer',
                competitor: 'Moderna',
                area: 'Product Innovation',
                areaId: 'innovation',
                industry: 'Healthcare',
                colors: {
                    primary: '#059669',
                    secondary: '#10b981',
                    accent: '#34d399'
                }
            }
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for all scripts including Chart.js to load
            window.addEventListener('load', function() {
                console.log('Window loaded, Chart.js available:', typeof Chart !== 'undefined');
                
                // Initialize AOS (Animate On Scroll)
                if (typeof AOS !== 'undefined') {
                    AOS.init({
                        duration: 800,
                        easing: 'ease-in-out',
                        once: true,
                        mirror: false
                    });
                }
                
                initializeEventListeners();
                initializeDemoData();
                loadDemoData();
            });
        });

        function initializeEventListeners() {
            // Brand input with AI suggestions
            const brandInput = document.getElementById('brandInput');
            const brandSuggestions = document.getElementById('brandSuggestions');
            
            brandInput.addEventListener('input', function() {
                if (this.value.length > 2) {
                    brandSuggestions.style.display = 'block';
                } else {
                    brandSuggestions.style.display = 'none';
                }
            });

            // Area selection
            document.querySelectorAll('.area-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Remove previous selection
                    document.querySelectorAll('.area-card').forEach(c => c.classList.remove('selected'));
                    
                    // Add selection to clicked card
                    this.classList.add('selected');
                    selectedArea = this.dataset.area;
                    
                    // Update competitor suggestions based on area
                    updateCompetitorSuggestions(selectedArea);
                });
            });

            // Demo selector
            const demoSelector = document.getElementById('demoSelector');
            if (demoSelector) {
                demoSelector.addEventListener('change', function() {
                    currentDemo = this.value;
                    loadDemoData();
                    updateUIForDemo();
                });
            }

            // Navigation tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Hide all tab contents
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Show selected tab content
                    const tabName = this.dataset.tab;
                    const tabContent = document.getElementById(tabName + 'Tab');
                    if (tabContent) {
                        tabContent.classList.add('active');
                        
                        // Special handling for analysis tab
                        if (tabName === 'analysis') {
                            moveAnalysisContent();
                        }
                        
                        // Reinitialize AOS for the new content
                        AOS.refresh();
                    }
                });
            });

            // Interactive chart elements
            document.querySelectorAll('.metric-card.clickable').forEach(card => {
                card.addEventListener('click', function() {
                    const drillType = this.dataset.drill;
                    showDrillDownDetails(drillType);
                });
            });

            // Insight expand buttons
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('insight-expand-btn')) {
                    const insightType = e.target.dataset.insight;
                    showInsightDetails(insightType);
                }
                
                if (e.target.classList.contains('export-btn')) {
                    const format = e.target.dataset.format;
                    handleExport(format);
                }
            });

            // Brand suggestions click handlers
            document.querySelectorAll('.suggestion-item').forEach(item => {
                item.addEventListener('click', function() {
                    const brandName = this.querySelector('div div').textContent;
                    document.getElementById('brandInput').value = brandName;
                    document.getElementById('brandSuggestions').style.display = 'none';
                    currentBrand = brandName;
                });
            });
        }

        function updateCompetitorSuggestions(area) {
            const competitorInput = document.getElementById('competitorInput');
            const competitors = {
                'self-service': ['Banco Popular', 'First Bank', 'Santander PR'],
                'employer-choice': ['Infosys', 'Accenture', 'Deloitte', 'TCS', 'Wipro'],
                'customer-experience': ['Chase', 'Bank of America', 'Wells Fargo'],
                'innovation': ['Apple', 'Google', 'Microsoft', 'Amazon'],
                'sustainability': ['Patagonia', 'Unilever', 'Tesla'],
                'market-position': ['Market Leaders in Industry']
            };

            competitorInput.placeholder = `Suggested: ${competitors[area]?.join(', ') || 'Enter competitor...'}`;
        }

        // Old function removed - using enhanced version below

        function startAnalysis() {
            const brandName = document.getElementById('brandInput').value;
            const competitor = document.getElementById('competitorInput').value;
            
            if (!brandName || !competitor || !selectedArea) {
                alert('Please fill in all fields and select an analysis area.');
                return;
            }

            currentBrand = brandName;
            currentCompetitor = competitor;

            // Show progress container
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('progressContainer').scrollIntoView({ behavior: 'smooth' });
            
            // Simulate analysis progress
            simulateAnalysisProgress();
        }

        function simulateAnalysisProgress() {
            const progressStatus = document.getElementById('progressStatus');
            const progressDetail = document.getElementById('progressDetail');
            
            const steps = [
                { status: 'Initializing AI Analysis...', detail: 'Setting up data collection pipelines', duration: 800 },
                { status: 'Collecting News Data...', detail: 'Analyzing 15,000+ news articles', duration: 1200 },
                { status: 'Scraping Social Media...', detail: 'Processing 89,500+ social posts', duration: 1000 },
                { status: 'Analyzing Glassdoor Reviews...', detail: 'Extracting insights from employee feedback', duration: 900 },
                { status: 'Processing Financial Data...', detail: 'Analyzing market performance metrics', duration: 700 },
                { status: 'Running LLM Analysis...', detail: 'Generating competitive insights with GPT-4', duration: 1100 },
                { status: 'Generating Recommendations...', detail: 'Creating actionable strategic plan', duration: 600 },
                { status: 'Analysis Complete!', detail: 'Preparing comprehensive dashboard', duration: 500 }
            ];

            let currentStep = 0;
            
            function processStep() {
                if (currentStep < steps.length) {
                    const step = steps[currentStep];
                    progressStatus.textContent = step.status;
                    progressDetail.textContent = step.detail;
                    
                    setTimeout(() => {
                        currentStep++;
                        processStep();
                    }, step.duration);
                } else {
                    showDashboard();
                }
            }

            processStep();
        }

        function showDashboard() {
            // Hide progress container
            document.getElementById('progressContainer').style.display = 'none';
            
            // Update brand names in analysis dashboard
            document.getElementById('yourBrandNameAnalysis').textContent = currentBrand;
            document.getElementById('competitorNameAnalysis').textContent = currentCompetitor;
            document.getElementById('yourBrandLogoAnalysis').textContent = currentBrand.charAt(0);
            document.getElementById('competitorLogoAnalysis').textContent = currentCompetitor.charAt(0);
            
            // Update selected area title
            const selectedAreaCard = document.querySelector(`[data-area="${selectedArea}"]`);
            if (selectedAreaCard) {
                const areaTitle = selectedAreaCard.querySelector('.area-title').textContent;
                document.getElementById('selectedAreaTitleAnalysis').textContent = areaTitle;
            }
            
            // Switch to Analysis tab
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.tab === 'analysis') {
                    tab.classList.add('active');
                }
            });
            
            // Hide all tab contents and show analysis tab
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('analysisTab').classList.add('active');
            
            // Show the analysis dashboard
            const analysisDashboard = document.getElementById('analysisDashboard');
            if (analysisDashboard) {
                analysisDashboard.style.display = 'grid';
                analysisDashboard.classList.add('active');
            }
            
            // Scroll to analysis content
            document.getElementById('analysisTab').scrollIntoView({ behavior: 'smooth' });
            
            // Initialize charts with analysis IDs - wait longer to ensure Chart.js is loaded
            setTimeout(() => {
                console.log('Attempting to initialize charts, Chart.js available:', typeof Chart !== 'undefined');
                initializeAnalysisCharts();
            }, 2000);
        }

        function initializeCharts() {
            // Check if Chart.js is loaded
            if (typeof Chart === 'undefined') {
                console.error('Chart.js not loaded properly');
                // Fallback: try to load Chart.js again
                loadChartJS().then(() => {
                    createAreaChart();
                    createSourcesChart();
                    createSentimentChart();
                    createComparisonChart();
                });
                return;
            }
            
            console.log('Initializing charts...');
            
            // Add small delay to ensure DOM is ready
            setTimeout(() => {
                try {
                    createAreaChart();
                    createSourcesChart();
                    createSentimentChart();
                    createComparisonChart();
                    console.log('All charts initialized successfully');
                } catch (error) {
                    console.error('Error initializing charts:', error);
                }
            }, 100);
        }

        function initializeAnalysisCharts() {
            // Comprehensive Chart.js availability check
            function attemptChartInitialization(retryCount = 0) {
                const maxRetries = 5;
                
                if (typeof Chart !== 'undefined' && window.Chart && window.chartJSReady) {
                    console.log('Chart.js available, initializing analysis charts...');
                    createAnalysisChartsNow();
                    return;
                }
                
                if (retryCount < maxRetries) {
                    console.log(`Chart.js not ready, retrying... (${retryCount + 1}/${maxRetries})`);
                    setTimeout(() => attemptChartInitialization(retryCount + 1), 500);
                } else {
                    console.error('Chart.js failed to load after multiple attempts');
                    showFallbackCharts();
                }
            }
            
            attemptChartInitialization();
        }

        function loadChartJSManually() {
            return new Promise((resolve, reject) => {
                if (typeof Chart !== 'undefined') {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js';
                script.onload = () => {
                    console.log('Chart.js script loaded');
                    setTimeout(() => {
                        if (typeof Chart !== 'undefined') {
                            resolve();
                        } else {
                            reject(new Error('Chart.js not available after loading'));
                        }
                    }, 100);
                };
                script.onerror = () => reject(new Error('Failed to load Chart.js script'));
                document.head.appendChild(script);
            });
        }

        function showFallbackCharts() {
            console.log('Showing fallback chart placeholders');
            // Show placeholder text in chart containers
            const chartContainers = [
                'areaChartAnalysis',
                'sourcesChartAnalysis', 
                'sentimentChartAnalysis',
                'comparisonChartAnalysis'
            ];
            
            chartContainers.forEach(id => {
                const container = document.getElementById(id);
                if (container) {
                    const parent = container.parentElement;
                    parent.innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; height: 300px; background: rgba(255,255,255,0.1); border-radius: 12px;">
                            <div style="text-align: center; color: var(--text-secondary);">
                                <div style="font-size: 2rem; margin-bottom: 10px;">📊</div>
                                <div>Chart Loading...</div>
                                <div style="font-size: 0.8rem; margin-top: 5px;">Refresh to retry</div>
                            </div>
                        </div>
                    `;
                }
            });
        }

        function createAnalysisChartsNow() {
            // Ensure all canvas elements exist before creating charts
            const requiredCanvases = ['areaChartAnalysis', 'sourcesChartAnalysis', 'sentimentChartAnalysis', 'comparisonChartAnalysis'];
            const missingCanvases = requiredCanvases.filter(id => !document.getElementById(id));
            
            if (missingCanvases.length > 0) {
                console.error('Missing canvas elements:', missingCanvases);
                setTimeout(() => createAnalysisChartsNow(), 500);
                return;
            }
            
            try {
                console.log('Creating analysis charts with verified Chart.js and canvas elements...');
                
                // Destroy existing charts to prevent conflicts
                requiredCanvases.forEach(canvasId => {
                    const canvas = document.getElementById(canvasId);
                    if (canvas && canvas.chart) {
                        canvas.chart.destroy();
                    }
                });
                
                // Create charts with error handling for each
                createAreaChartAnalysisRobust();
                createSourcesChartAnalysisRobust();
                createSentimentChartAnalysisRobust();
                createComparisonChartAnalysisRobust();
                
                console.log('Analysis charts created successfully');
            } catch (error) {
                console.error('Error creating analysis charts:', error);
                showFallbackCharts();
            }
        }

        function loadChartJS() {
            return new Promise((resolve, reject) => {
                if (typeof Chart !== 'undefined') {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js';
                script.onload = () => resolve();
                script.onerror = () => reject(new Error('Failed to load Chart.js'));
                document.head.appendChild(script);
            });
        }

        function createAreaChart() {
            const canvas = document.getElementById('areaChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // Destroy existing chart if it exists
            if (canvas.chart) {
                canvas.chart.destroy();
            }
            
            const data = {
                labels: ['User Experience', 'Feature Richness', 'Mobile App', 'Security', 'Performance', 'Support'],
                datasets: [{
                    label: currentBrand,
                    data: [8.2, 7.5, 6.8, 9.1, 7.8, 8.7],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    pointBackgroundColor: '#00d4ff',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    fill: true
                }]
            };

            try {
                canvas.chart = new Chart(ctx, {
                    type: 'radar',
                    data: data,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    stepSize: 2,
                                    color: 'rgba(255, 255, 255, 0.7)',
                                    font: {
                                        size: 12
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.2)'
                                },
                                angleLines: {
                                    color: 'rgba(255, 255, 255, 0.2)'
                                },
                                pointLabels: {
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    font: {
                                        size: 11,
                                        weight: '500'
                                    }
                                }
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error creating area chart:', error);
                // Fallback: show static visualization
                ctx.fillStyle = '#00d4ff';
                ctx.fillRect(10, 10, canvas.width - 20, canvas.height - 20);
                ctx.fillStyle = '#ffffff';
                ctx.font = '16px Inter';
                ctx.textAlign = 'center';
                ctx.fillText('Chart Loading...', canvas.width / 2, canvas.height / 2);
            }
        }

        function createSourcesChart() {
            const canvas = document.getElementById('sourcesChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // Destroy existing chart if it exists
            if (canvas.chart) {
                canvas.chart.destroy();
            }
            
            try {
                canvas.chart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['News Articles', 'Social Media', 'Reviews', 'Expert Reports', 'Financial Data'],
                        datasets: [{
                            data: [15200, 89500, 2800, 156, 45],
                            backgroundColor: [
                                '#00d4ff',
                                '#8b5cf6',
                                '#ff6b6b',
                                '#4ecdc4',
                                '#ffd700'
                            ],
                            borderWidth: 0,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    padding: 20,
                                    usePointStyle: true,
                                    font: {
                                        size: 11
                                    }
                                }
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error creating sources chart:', error);
                // Fallback visualization
                ctx.fillStyle = '#8b5cf6';
                ctx.beginPath();
                ctx.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width, canvas.height) / 3, 0, 2 * Math.PI);
                ctx.fill();
            }
        }

        function createSentimentChart() {
            const ctx = document.getElementById('sentimentChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    datasets: [{
                        label: 'Positive Sentiment',
                        data: [68, 71, 69, 74, 72, 75, 72],
                        borderColor: '#4ecdc4',
                        backgroundColor: 'rgba(78, 205, 196, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Negative Sentiment',
                        data: [12, 10, 11, 8, 9, 7, 9],
                        borderColor: '#ff6b6b',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                usePointStyle: true
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                maxRotation: 45
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        function exportReport() {
            // Simulate report export with visual feedback
            const button = event.target;
            const originalContent = button.innerHTML;
            
            button.innerHTML = '✅';
            button.style.transform = 'scale(1.2)';
            
            // Create a mock download
            const reportData = {
                brand: currentBrand,
                competitor: currentCompetitor,
                area: selectedArea,
                overallScore: 7.8,
                timestamp: new Date().toISOString(),
                recommendations: [
                    'Mobile App Enhancement - High Priority',
                    'AI-Powered Customer Service - Medium Priority',
                    'Maintain Security Leadership - Strategic'
                ]
            };
            
            // Create and download JSON report
            const dataStr = JSON.stringify(reportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `${currentBrand}_Brand_Analysis_Report.json`;
            link.click();
            
            setTimeout(() => {
                button.innerHTML = originalContent;
                button.style.transform = 'scale(1)';
                
                // Show success notification
                showNotification('Report exported successfully! 📊', 'success');
            }, 2000);
        }

        function refreshAnalysis() {
            // Simulate data refresh
            const button = event.target;
            const originalContent = button.innerHTML;
            
            button.innerHTML = '⏳';
            button.style.animation = 'spin 1s linear infinite';
            
            setTimeout(() => {
                button.innerHTML = originalContent;
                button.style.animation = 'none';
                
                // Update some random values to show refresh
                updateDashboardValues();
                showNotification('Analysis refreshed with latest data! 🔄', 'info');
            }, 3000);
        }

        function updateDashboardValues() {
            // Update score with small random variation
            const scoreElement = document.querySelector('.score-value');
            const currentScore = parseFloat(scoreElement.textContent);
            const newScore = (currentScore + (Math.random() - 0.5) * 0.4).toFixed(1);
            scoreElement.textContent = newScore;
            
            // Update progress ring
            const scoreCircle = document.querySelector('.score-circle');
            const newDegrees = (newScore / 10) * 360;
            scoreCircle.style.setProperty('--score', `${newDegrees}deg`);
            
            // Update metrics with small variations
            document.querySelectorAll('.metric-value').forEach(metric => {
                if (metric.textContent.includes('.')) {
                    const value = parseFloat(metric.textContent);
                    const variation = (Math.random() - 0.5) * 0.2;
                    metric.textContent = (value + variation).toFixed(1);
                } else if (metric.textContent.includes('%')) {
                    const value = parseInt(metric.textContent);
                    const variation = Math.floor((Math.random() - 0.5) * 4);
                    metric.textContent = `${value + variation}%`;
                }
            });

            // Reinitialize charts with updated data
            setTimeout(() => {
                initializeCharts();
            }, 500);
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'var(--success-gradient)' : 'var(--primary-gradient)'};
                color: white;
                padding: 15px 25px;
                border-radius: 12px;
                font-weight: 600;
                z-index: 10000;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                transform: translateX(400px);
                transition: all 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Animate out and remove
            setTimeout(() => {
                notification.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 4000);
        }

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + Enter to start analysis
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                e.preventDefault();
                startAnalysis();
            }
            
            // Ctrl/Cmd + R to refresh analysis
            if ((e.ctrlKey || e.metaKey) && e.key === 'r' && document.getElementById('dashboard').classList.contains('active')) {
                e.preventDefault();
                refreshAnalysis();
            }
            
            // Ctrl/Cmd + E to export report
            if ((e.ctrlKey || e.metaKey) && e.key === 'e' && document.getElementById('dashboard').classList.contains('active')) {
                e.preventDefault();
                exportReport();
            }
        });

        // Add smooth scrolling behavior
        function smoothScrollToElement(element) {
            element.scrollIntoView({
                behavior: 'smooth',
                block: 'start',
                inline: 'nearest'
            });
        }

        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe dashboard cards for animation
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.querySelectorAll('.dash-card').forEach(card => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(30px)';
                    card.style.transition = 'all 0.6s ease';
                    observer.observe(card);
                });
            }, 1000);
        });

        // Add real-time clock for live data feeling
        function updateTimestamp() {
            const now = new Date();
            const timestamp = now.toLocaleString('en-US', {
                weekday: 'short',
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            
            // Update any timestamp elements
            document.querySelectorAll('.live-timestamp').forEach(el => {
                el.textContent = `Last updated: ${timestamp}`;
            });
        }

        // Update timestamp every second
        setInterval(updateTimestamp, 1000);

        // Initialize demo mode for hackathon presentation
        function initializeDemoMode() {
            // Add demo mode indicator
            const demoIndicator = document.createElement('div');
            demoIndicator.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: var(--warning-gradient);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
                z-index: 1000;
                opacity: 0.8;
            `;
            demoIndicator.innerHTML = '🎯 DEMO MODE - VibeCoding Hackathon';
            document.body.appendChild(demoIndicator);

            // Add demo data refresh every 30 seconds
            setInterval(() => {
                if (document.getElementById('dashboard').classList.contains('active')) {
                    updateDashboardValues();
                }
            }, 30000);
        }

        // Initialize demo mode
        setTimeout(initializeDemoMode, 2000);

        // Add easter egg for konami code
        let konamiCode = [];
        const konami = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65]; // ↑↑↓↓←→←→BA

        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.keyCode);
            if (konamiCode.length > konami.length) {
                konamiCode.shift();
            }
            
            if (konamiCode.toString() === konami.toString()) {
                // Easter egg: Enable "God Mode" with perfect scores
                document.querySelector('.score-value').textContent = '10.0';
                document.querySelector('.score-circle').style.setProperty('--score', '360deg');
                showNotification('🎮 Konami Code Activated! God Mode Enabled! 🚀', 'success');
                konamiCode = [];
            }
        });

        // Performance monitoring
        function logPerformanceMetrics() {
            if (performance.mark && performance.measure) {
                performance.mark('app-start');
                
                window.addEventListener('load', () => {
                    performance.mark('app-loaded');
                    performance.measure('app-load-time', 'app-start', 'app-loaded');
                    
                    const measure = performance.getEntriesByName('app-load-time')[0];
                    console.log(`🚀 Brand Intelligence Hub loaded in ${measure.duration.toFixed(2)}ms`);
                });
            }
        }

        // New Enhanced Functions
        
        function loadDemoData() {
            // Simulate loading demo data (in real app, this would fetch from demo JSON files)
            const demo = demos[currentDemo];
            currentBrand = demo.brand;
            currentCompetitor = demo.competitor;
            selectedArea = demo.areaId;
            
            // Update the theme colors
            document.documentElement.style.setProperty('--demo-primary', demo.colors.primary);
            document.documentElement.style.setProperty('--demo-secondary', demo.colors.secondary);
            document.documentElement.style.setProperty('--demo-accent', demo.colors.accent);
        }

        function updateUIForDemo() {
            const demo = demos[currentDemo];
            
            // Update form values
            document.getElementById('brandInput').value = demo.brand;
            document.getElementById('competitorInput').value = demo.competitor;
            
            // Update selected area
            document.querySelectorAll('.area-card').forEach(card => {
                card.classList.remove('selected');
                if (card.dataset.area === selectedArea) {
                    card.classList.add('selected');
                }
            });
            
            // Update brand logos and names in dashboard
            if (document.getElementById('yourBrandName')) {
                document.getElementById('yourBrandName').textContent = demo.brand;
                document.getElementById('competitorName').textContent = demo.competitor;
                document.getElementById('yourBrandLogo').textContent = demo.brand.charAt(0);
                document.getElementById('competitorLogo').textContent = demo.competitor.charAt(0);
            }
        }

        function moveAnalysisContent() {
            // Move dashboard to analysis tab if it exists
            const dashboard = document.getElementById('dashboard');
            const analysisContent = document.getElementById('analysisContent');
            
            if (dashboard && analysisContent && dashboard.classList.contains('active')) {
                // Move the actual dashboard element
                analysisContent.appendChild(dashboard);
                // Charts should already be initialized, no need to reinitialize
            }
        }

        function showDrillDownDetails(drillType) {
            const detailsPanel = document.getElementById('scoreDetailsAnalysis');
            const detailsContent = document.getElementById('scoreDetailsContentAnalysis');
            
            if (!detailsPanel || !detailsContent) {
                console.error('Drill down details panel elements not found');
                return;
            }
            
            let content = '';
            switch (drillType) {
                case 'quarterly':
                    content = `
                        <div class="drill-detail">
                            <h5>Quarterly Performance Breakdown</h5>
                            <div class="detail-metrics">
                                <div class="detail-item">Q4 2023: +0.3 improvement</div>
                                <div class="detail-item">Q1 2024: +0.5 improvement</div>
                                <div class="detail-item">Q2 2024: +0.4 improvement</div>
                            </div>
                        </div>
                    `;
                    break;
                case 'market':
                    content = `
                        <div class="drill-detail">
                            <h5>Market Position Analysis</h5>
                            <div class="detail-metrics">
                                <div class="detail-item">Market Share: 15.3%</div>
                                <div class="detail-item">Ranking: #3 in sector</div>
                                <div class="detail-item">Growth Rate: +12% YoY</div>
                            </div>
                        </div>
                    `;
                    break;
                case 'mentions':
                    content = `
                        <div class="drill-detail">
                            <h5>Daily Mentions Breakdown</h5>
                            <div class="detail-metrics">
                                <div class="detail-item">News: 1.2K mentions</div>
                                <div class="detail-item">Social Media: 0.8K mentions</div>
                                <div class="detail-item">Reviews: 0.3K mentions</div>
                            </div>
                        </div>
                    `;
                    break;
                case 'sentiment':
                    content = `
                        <div class="drill-detail">
                            <h5>Sentiment Distribution</h5>
                            <div class="detail-metrics">
                                <div class="detail-item">Positive: 72% (+3% vs last month)</div>
                                <div class="detail-item">Neutral: 19% (-1% vs last month)</div>
                                <div class="detail-item">Negative: 9% (-2% vs last month)</div>
                            </div>
                        </div>
                    `;
                    break;
            }
            
            detailsContent.innerHTML = content;
            detailsPanel.classList.toggle('active');
        }

        function showInsightDetails(insightType) {
            let details = {};
            
            switch (insightType) {
                case 'mobile':
                    details = {
                        title: 'Mobile App Enhancement - Detailed Plan',
                        steps: [
                            'Conduct user research survey (2 weeks)',
                            'Design mobile-first UI/UX (4 weeks)',
                            'Develop biometric authentication (6 weeks)',
                            'Implement AI-powered insights (8 weeks)',
                            'Beta testing and refinement (4 weeks)',
                            'Full deployment and monitoring (2 weeks)'
                        ],
                        roi: '$2.5M annually',
                        metrics: ['User engagement +45%', 'App store rating +1.2', 'Customer satisfaction +25%']
                    };
                    break;
                case 'ai-service':
                    details = {
                        title: 'AI-Powered Customer Service - Implementation',
                        steps: [
                            'AI chatbot platform selection (1 week)',
                            'Training data preparation (3 weeks)',
                            'NLP model training and testing (6 weeks)',
                            'Integration with existing systems (4 weeks)',
                            'Staff training and rollout (2 weeks)'
                        ],
                        roi: '$1.2M annually',
                        metrics: ['Response time -60%', 'Customer satisfaction +30%', 'Support cost -40%']
                    };
                    break;
                case 'security':
                    details = {
                        title: 'Security Leadership Maintenance Strategy',
                        steps: [
                            'Security audit and assessment (2 weeks)',
                            'Infrastructure upgrades (8 weeks)',
                            'Staff security training program (4 weeks)',
                            'Customer education campaign (6 weeks)',
                            'Continuous monitoring setup (2 weeks)'
                        ],
                        roi: 'Brand value protection',
                        metrics: ['Security incidents -80%', 'Customer trust +20%', 'Compliance score +15%']
                    };
                    break;
            }
            
            // Create modal or expandable section with details
            showNotification(`📋 ${details.title} - ${details.roi}`, 'info');
        }

        function handleExport(format) {
            const demo = demos[currentDemo];
            let filename = '';
            let content = {};
            
            switch (format) {
                case 'executive':
                    filename = `${demo.brand}_Executive_Summary.pdf`;
                    content = {
                        type: 'Executive Summary',
                        brand: demo.brand,
                        competitor: demo.competitor,
                        overallScore: '7.8/10',
                        topRecommendation: 'Mobile App Enhancement',
                        roi: '$2.5M annually'
                    };
                    break;
                case 'detailed':
                    filename = `${demo.brand}_Detailed_Report.pdf`;
                    content = {
                        type: 'Detailed Report',
                        brand: demo.brand,
                        pages: 25,
                        charts: 12,
                        recommendations: 8
                    };
                    break;
                case 'data':
                    filename = `${demo.brand}_Data_Export.json`;
                    content = {
                        exportType: 'Raw Data',
                        timestamp: new Date().toISOString(),
                        demo: demo,
                        metrics: 'All collected data and analysis results'
                    };
                    break;
                case 'link':
                    const shareLink = `https://brand-intelligence-hub.com/share/${demo.industry.toLowerCase()}/${Date.now()}`;
                    navigator.clipboard.writeText(shareLink).then(() => {
                        showNotification(`🔗 Share link copied to clipboard!`, 'success');
                    });
                    return;
            }
            
            // Simulate file download
            const dataStr = JSON.stringify(content, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            link.click();
            
            showNotification(`📄 ${filename} downloaded successfully!`, 'success');
        }

        // Enhanced initializeDemoData function
        function initializeDemoData() {
            // Set initial demo
            document.getElementById('demoSelector').value = currentDemo;
            loadDemoData();
            updateUIForDemo();
            
            // Auto-select the correct area card for the demo
            const demo = demos[currentDemo];
            const correctAreaCard = document.querySelector(`[data-area="${demo.areaId}"]`);
            if (correctAreaCard) {
                correctAreaCard.click();
            }
        }

        // Add timeline progress animation
        function animateTimeline() {
            const progressBars = document.querySelectorAll('.progress-bar');
            const progressValues = [25, 60, 40, 15]; // Sample progress values
            
            progressBars.forEach((bar, index) => {
                setTimeout(() => {
                    bar.style.width = `${progressValues[index] || 0}%`;
                }, index * 200);
            });
        }

        // Initialize timeline animation when roadmap tab is shown
        document.addEventListener('click', function(e) {
            if (e.target.dataset.tab === 'roadmap') {
                setTimeout(animateTimeline, 500);
            }
        });

        // Analysis Chart Functions
        function createAreaChartAnalysis() {
            const canvas = document.getElementById('areaChartAnalysis');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            const data = {
                labels: ['User Experience', 'Feature Richness', 'Mobile App', 'Security', 'Performance', 'Support'],
                datasets: [{
                    label: currentBrand,
                    data: [8.2, 7.5, 6.8, 9.1, 7.8, 8.7],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    pointBackgroundColor: '#00d4ff',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    fill: true
                }]
            };

            new Chart(ctx, {
                type: 'radar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 10,
                            ticks: {
                                stepSize: 2,
                                color: 'rgba(255, 255, 255, 0.7)',
                                font: {
                                    size: 12
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.2)'
                            },
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.2)'
                            },
                            pointLabels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                font: {
                                    size: 11,
                                    weight: '500'
                                }
                            }
                        }
                    }
                }
            });
        }

        function createSourcesChartAnalysis() {
            const canvas = document.getElementById('sourcesChartAnalysis');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['News Articles', 'Social Media', 'Reviews', 'Expert Reports', 'Financial Data'],
                    datasets: [{
                        data: [15200, 89500, 2800, 156, 45],
                        backgroundColor: [
                            '#00d4ff',
                            '#8b5cf6',
                            '#ff6b6b',
                            '#4ecdc4',
                            '#ffd700'
                        ],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                padding: 20,
                                usePointStyle: true,
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        }

        function createSentimentChartAnalysis() {
            const ctx = document.getElementById('sentimentChartAnalysis').getContext('2d');
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    datasets: [{
                        label: 'Positive Sentiment',
                        data: [68, 71, 69, 74, 72, 75, 72],
                        borderColor: '#4ecdc4',
                        backgroundColor: 'rgba(78, 205, 196, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Negative Sentiment',
                        data: [12, 10, 11, 8, 9, 7, 9],
                        borderColor: '#ff6b6b',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                usePointStyle: true
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                maxRotation: 45
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        function createComparisonChartAnalysis() {
            const ctx = document.getElementById('comparisonChartAnalysis').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['User Experience', 'Feature Richness', 'Mobile App', 'Security', 'Performance', 'Customer Support'],
                    datasets: [{
                        label: currentBrand,
                        data: [8.2, 7.5, 6.8, 9.1, 7.8, 8.7],
                        backgroundColor: 'rgba(0, 212, 255, 0.8)',
                        borderColor: '#00d4ff',
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                    }, {
                        label: currentCompetitor,
                        data: [7.9, 8.1, 8.9, 7.8, 8.2, 7.2],
                        backgroundColor: 'rgba(255, 107, 107, 0.8)',
                        borderColor: '#ff6b6b',
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                usePointStyle: true,
                                padding: 20,
                                font: {
                                    weight: '600'
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                stepSize: 1
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                maxRotation: 45
                            },
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Robust Analysis Chart Functions
        function createAreaChartAnalysisRobust() {
            try {
                const canvas = document.getElementById('areaChartAnalysis');
                if (!canvas) {
                    console.error('Canvas areaChartAnalysis not found');
                    return;
                }
                
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    console.error('Could not get 2D context for areaChartAnalysis');
                    return;
                }
                
                const currentDemoData = demos[currentDemo];
                
                const data = {
                    labels: ['User Experience', 'Feature Richness', 'Mobile App', 'Security', 'Performance', 'Customer Support'],
                    datasets: [{
                        label: currentDemoData.brand,
                        data: [82, 75, 76, 88, 79, 83],
                        backgroundColor: `${currentDemoData.colors.primary}20`,
                        borderColor: currentDemoData.colors.primary,
                        pointBackgroundColor: currentDemoData.colors.primary,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: currentDemoData.colors.primary,
                        borderWidth: 2
                    }, {
                        label: currentDemoData.competitor,
                        data: [89, 82, 92, 91, 86, 85],
                        backgroundColor: `${currentDemoData.colors.secondary}20`,
                        borderColor: currentDemoData.colors.secondary,
                        pointBackgroundColor: currentDemoData.colors.secondary,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: currentDemoData.colors.secondary,
                        borderWidth: 2
                    }]
                };
    
                canvas.chart = new Chart(ctx, {
                    type: 'radar',
                    data: data,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                pointLabels: {
                                    color: '#fff',
                                    font: {
                                        size: 11
                                    }
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.5)',
                                    backdropColor: 'transparent'
                                },
                                min: 0,
                                max: 100
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#fff'
                                }
                            }
                        }
                    }
                });
                console.log('Area chart analysis created successfully');
            } catch (error) {
                console.error('Error creating area chart analysis:', error);
                document.getElementById('areaChartAnalysis').innerHTML = '<div style="color: #fff; text-align: center; padding: 50px;">Chart unavailable</div>';
            }
        }

        function createSourcesChartAnalysisRobust() {
            try {
                const canvas = document.getElementById('sourcesChartAnalysis');
                if (!canvas) {
                    console.error('Canvas sourcesChartAnalysis not found');
                    return;
                }
                
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    console.error('Could not get 2D context for sourcesChartAnalysis');
                    return;
                }
                
                canvas.chart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['News Articles', 'Social Media', 'Reviews', 'Expert Reports', 'Financial Data'],
                        datasets: [{
                            data: [35, 25, 20, 12, 8],
                            backgroundColor: [
                                demos[currentDemo].colors.primary,
                                demos[currentDemo].colors.secondary,
                                demos[currentDemo].colors.accent,
                                '#ff6b6b',
                                '#4ecdc4'
                            ],
                            borderWidth: 0,
                            cutout: '60%'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#fff',
                                    padding: 15,
                                    usePointStyle: true
                                }
                            }
                        }
                    }
                });
                console.log('Sources chart analysis created successfully');
            } catch (error) {
                console.error('Error creating sources chart analysis:', error);
                document.getElementById('sourcesChartAnalysis').innerHTML = '<div style="color: #fff; text-align: center; padding: 50px;">Chart unavailable</div>';
            }
        }

        function createSentimentChartAnalysisRobust() {
            try {
                const canvas = document.getElementById('sentimentChartAnalysis');
                if (!canvas) {
                    console.error('Canvas sentimentChartAnalysis not found');
                    return;
                }
                
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    console.error('Could not get 2D context for sentimentChartAnalysis');
                    return;
                }
                
                canvas.chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: demos[currentDemo].brand,
                            data: [65, 68, 70, 75, 73, 78, 75],
                            borderColor: demos[currentDemo].colors.primary,
                            backgroundColor: `${demos[currentDemo].colors.primary}10`,
                            tension: 0.4,
                            fill: true
                        }, {
                            label: demos[currentDemo].competitor,
                            data: [70, 72, 78, 80, 82, 85, 83],
                            borderColor: demos[currentDemo].colors.secondary,
                            backgroundColor: `${demos[currentDemo].colors.secondary}10`,
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: false,
                                min: 60,
                                max: 90,
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#fff'
                                }
                            }
                        }
                    }
                });
                console.log('Sentiment chart analysis created successfully');
            } catch (error) {
                console.error('Error creating sentiment chart analysis:', error);
                document.getElementById('sentimentChartAnalysis').innerHTML = '<div style="color: #fff; text-align: center; padding: 50px;">Chart unavailable</div>';
            }
        }

        function createComparisonChartAnalysisRobust() {
            try {
                const canvas = document.getElementById('comparisonChartAnalysis');
                if (!canvas) {
                    console.error('Canvas comparisonChartAnalysis not found');
                    return;
                }
                
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    console.error('Could not get 2D context for comparisonChartAnalysis');
                    return;
                }
                
                canvas.chart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['User Experience', 'Feature Richness', 'Mobile App', 'Security', 'Performance', 'Customer Support'],
                        datasets: [{
                            label: demos[currentDemo].brand,
                            data: [82, 75, 76, 88, 79, 83],
                            backgroundColor: demos[currentDemo].colors.primary,
                            borderRadius: 4
                        }, {
                            label: demos[currentDemo].competitor,
                            data: [89, 82, 92, 91, 86, 85],
                            backgroundColor: demos[currentDemo].colors.secondary,
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)',
                                    maxRotation: 45
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#fff'
                                }
                            }
                        }
                    }
                });
                console.log('Comparison chart analysis created successfully');
            } catch (error) {
                console.error('Error creating comparison chart analysis:', error);
                document.getElementById('comparisonChartAnalysis').innerHTML = '<div style="color: #fff; text-align: center; padding: 50px;">Chart unavailable</div>';
            }
        }

        logPerformanceMetrics();
    </script>
</body>
</html>